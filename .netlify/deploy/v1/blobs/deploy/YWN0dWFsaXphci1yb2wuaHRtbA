{"html":"<!DOCTYPE html><html><head><meta charSet=\"utf-8\" data-next-head=\"\"/><meta name=\"viewport\" content=\"width=device-width\" data-next-head=\"\"/><link rel=\"preload\" href=\"/_next/static/css/8bba817502cc81a1.css\" as=\"style\"/><link rel=\"stylesheet\" href=\"/_next/static/css/8bba817502cc81a1.css\" data-n-g=\"\"/><noscript data-n-css=\"\"></noscript><script defer=\"\" nomodule=\"\" src=\"/_next/static/chunks/polyfills-42372ed130431b0a.js\"></script><script src=\"/_next/static/chunks/webpack-c44cf3d39757ced8.js\" defer=\"\"></script><script src=\"/_next/static/chunks/framework-a6e0b7e30f98059a.js\" defer=\"\"></script><script src=\"/_next/static/chunks/main-c35a3a1f6f2b4991.js\" defer=\"\"></script><script src=\"/_next/static/chunks/pages/_app-8b78862bc03dae51.js\" defer=\"\"></script><script src=\"/_next/static/chunks/230-6f6dbb566cd5139b.js\" defer=\"\"></script><script src=\"/_next/static/chunks/pages/actualizar-rol-68f36fa500aca060.js\" defer=\"\"></script><script src=\"/_next/static/gaB1F0hWHtcO3UfJO2Wnc/_buildManifest.js\" defer=\"\"></script><script src=\"/_next/static/gaB1F0hWHtcO3UfJO2Wnc/_ssgManifest.js\" defer=\"\"></script></head><body><div id=\"__next\"><header class=\"fixed top-0 inset-x-0 z-50\"><nav class=\"mx-auto max-w-6xl flex items-center justify-between p-4 md:p-6\"><a class=\"font-display text-xl md:text-2xl\" href=\"/\">Sofía &amp; Franco</a><div class=\"flex flex-row gap-2 md:gap-4 items-center min-w-[140px] w-auto flex-nowrap\"><a class=\"px-3 py-2 md:px-4 md:py-2 rounded-full bg-white border border-dusk/20 hover:bg-blush text-sm md:text-base text-center\" href=\"/login\">Login</a></div></nav></header><main class=\"pt-24 max-w-4xl mx-auto p-4\"><h1 class=\"font-display text-2xl mb-6\">Actualizar Rol de Usuario</h1><div class=\"mb-8 p-4 bg-white rounded-lg shadow\"><h2 class=\"font-bold text-xl mb-4\">Ejemplo de Uso de la API</h2><pre class=\"bg-gray-100 p-3 rounded mb-4 overflow-x-auto text-xs\">// Importar la utilidad\nimport { actualizarRol } from &#x27;../lib/roleUtils&#x27;;\n\n// Actualizar el rol de un usuario\nasync function cambiarRol() {\n  const { success, error } = await actualizarRol(\n    &#x27;8b865535-13b6-46ae-9963-70c65d15c003&#x27;, \n    &#x27;admin&#x27;,\n    true // Opcional: forzar logout después de la actualización\n  );\n  \n  if (success) {\n    console.log(&#x27;Rol actualizado correctamente&#x27;);\n  } else {\n    console.error(&#x27;Error:&#x27;, error);\n  }\n}</pre><div class=\"space-y-4\"><div><label class=\"block text-sm font-medium mb-1\">ID de Usuario:</label><input type=\"text\" class=\"w-full p-2 border rounded\" placeholder=\"Ej: 8b865535-13b6-46ae-9963-70c65d15c003\" value=\"\"/></div><div><label class=\"block text-sm font-medium mb-1\">Nuevo Rol:</label><select class=\"w-full p-2 border rounded\"><option value=\"admin\" selected=\"\">Admin</option><option value=\"invitado\">Invitado</option><option value=\"prometidos\">Prometidos</option></select></div><div class=\"flex items-center mb-4\"><input type=\"checkbox\" id=\"autoLogout\" class=\"mr-2\"/><label for=\"autoLogout\" class=\"text-sm\">Cerrar sesión automáticamente después de actualizar</label></div><button disabled=\"\" class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\">Actualizar Rol</button></div></div><div class=\"p-4 bg-white rounded-lg shadow\"><h2 class=\"font-bold text-xl mb-4\">Notas Importantes</h2><ul class=\"list-disc ml-6 space-y-2\"><li>Esta función actualiza el rol tanto en los metadatos de Auth como en la tabla &#x27;users&#x27;.</li><li>Utiliza un endpoint API seguro para la función administrativa.</li><li>Solo los administradores pueden actualizar roles de otros usuarios.</li><li>Si recibes errores, asegúrate de que estás autenticado como administrador.</li></ul></div></main></div><script id=\"__NEXT_DATA__\" type=\"application/json\">{\"props\":{\"pageProps\":{}},\"page\":\"/actualizar-rol\",\"query\":{},\"buildId\":\"gaB1F0hWHtcO3UfJO2Wnc\",\"nextExport\":true,\"autoExport\":true,\"isFallback\":false,\"scriptLoader\":[]}</script></body></html>","isFullyStaticPage":true}